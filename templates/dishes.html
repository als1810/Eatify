{% extends "base.html" %}
{% block content %}
<h2>Dishes by Restaurant</h2>

<div class="accordion" id="restaurantAccordion">
  {% for restaurant_name, info in restaurants.items() %}
  <div class="accordion-item">
    <h2 class="accordion-header" id="heading{{ loop.index }}">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#collapse{{ loop.index }}" aria-expanded="false"
              aria-controls="collapse{{ loop.index }}">
        üçΩÔ∏è {{ restaurant_name }}
        <span class="ms-2 badge 
          {% if info.type == 'Pure Veg' %}bg-success{% else %}bg-danger{% endif %}">
          {{ info.type }}
        </span>
      </button>
    </h2>
    <div id="collapse{{ loop.index }}" class="accordion-collapse collapse"
         aria-labelledby="heading{{ loop.index }}" data-bs-parent="#restaurantAccordion">
      <div class="accordion-body">
        <table class="table table-striped table-hover align-middle">
          <thead class="table-light">
            <tr>
              <th>ID</th>
              <th>Dish Name</th>
              <th>Category</th>
              <th>Price (‚Çπ)</th>
            </tr>
          </thead>
          <tbody>
            {% for dish in info.dishes %}
            <tr>
              <td>{{ dish.dish_id }}</td>
              <td>{{ dish.dish_name }}</td>
              <td>{{ dish.category_name }}</td>
              <td>{{ dish.unit_price }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

{% endblock %}