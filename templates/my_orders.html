{% extends "base.html" %}
{% block content %}
<h2>Order History</h2>

{% if orders %}
<table class="table table-striped table-bordered">
  <thead class="table-dark">
    <tr>
      <th>Order ID</th>
      <th>Date & Time</th>
      <th>Status</th>
      <th>Dish</th>
      <th>Restaurant</th>
      <th>Quantity</th>
      <th>Amount (₹)</th>
      <th>Payment Type</th>
    </tr>
  </thead>
  <tbody>
    {% for order in orders %}
    <tr>
      <td>{{ order.order_id }}</td>
      <td>{{ order.order_time }}</td>
      <td>
        {% if order.status == 'Completed' %}
          <span class="badge bg-success">{{ order.status }}</span>
        {% elif order.status == 'Pending' %}
          <span class="badge bg-warning text-dark">{{ order.status }}</span>
        {% elif order.status == 'Cancelled' %}
          <span class="badge bg-danger">{{ order.status }}</span>
        {% else %}
          <span class="badge bg-secondary">{{ order.status }}</span>
        {% endif %}
      </td>
      <td>{{ order.dish_name }}</td>
      <td>{{ order.restaurant_name }}</td>
      <td>{{ order.quantity }}</td>
      <td>{{ order.amount }}</td>
      <td>{{ order.payment_type }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<div class="alert alert-info">
  No orders found for this customer.
</div>
{% endif %}

<a href="{{ url_for('view_customers') }}" class="btn btn-secondary mt-3">← Back to Customers</a>
{% endblock %}
